"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1108],{2374:(e,s,t)=>{t.d(s,{Z:()=>l});t(2791);var a=t(184);const l=e=>{let{text:s}=e;return(0,a.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-8 w-8 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 004 20h4a7.963 7.963 0 01-2-5.291L6 17l0 .001zM12 20a7.963 7.963 0 01-2-5.291l2-2.72A5.965 5.965 0 0012 15v5h0zm4-2.709A7.962 7.962 0 0020 12h-4a7.963 7.963 0 01-2 5.291l2 2.719 0-.001z"})]}),(0,a.jsxs)("span",{className:"text-green-600 animate-wave",children:[" ","Hold on ",s," are Loading..."]})]})}},1108:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});t(2791),t(2870),t(4132);var a=t(3443),l=t(184);function n(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"flex flex-col items-center bg-slate-200  space-y-4",children:(0,l.jsx)(a.Z,{})})})}},2870:(e,s,t)=>{t.d(s,{Z:()=>Z});var a=t(2791),l=t(5527),n=t(3044),r=t(7391),c=t(697),i=t(890),o=t(3400),d=t(4721),m=t(4294),x=t(7447),h=t(2269),u=t(7195),p=t(9825),j=t(8267);const g=(0,t(3457).Z)(c.Z)({display:"flex",justifyContent:"space-between"});var v=t(6307),f=t(5294),y=t(4264),w=t(184);const Z=e=>{let{setpostsData:s}=e;const[t,Z]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(""),[C,P]=(0,a.useState)(!0),[z,A]=(0,a.useState)(!1),{user:D}=(0,v.z)(),{setAlert:T}=(0,y.wS)();(0,a.useEffect)((()=>{P(!k&&!b)}),[b,k]);return(0,w.jsxs)(l.Z,{className:"p-4 mt-2 space-y-4 w-96 md:full bg-white rounded-md shadow-md",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(n.Z,{src:null===D||void 0===D?void 0:D.profile,alt:"User Avatar"}),(0,w.jsx)(r.Z,{id:"outlined-multiline-flexible",label:"What's on your mind?",multiline:!0,maxRows:4,fullWidth:!0,value:k,variant:"outlined",onChange:e=>{S(e.target.value)}})]}),t&&(0,w.jsx)(c.Z,{border:"1px solid gray",borderRadius:"5px",mt:"1rem",p:"1rem",children:(0,w.jsx)(j.ZP,{acceptedFiles:".jpg,.jpeg,.png",multiple:!1,onDrop:e=>N(e[0]),children:e=>{let{getRootProps:s,getInputProps:t}=e;return(0,w.jsxs)(g,{children:[(0,w.jsxs)(c.Z,{...s(),border:"2px dashed cyan",p:"1rem",width:"100%",sx:{"&:hover":{cursor:"pointer"}},children:[(0,w.jsx)("input",{...t()}),b?(0,w.jsxs)(g,{children:[(0,w.jsx)(i.Z,{children:b.name}),(0,w.jsx)(u.Z,{})]}):(0,w.jsx)("p",{children:"Add Image Here"})]}),b&&(0,w.jsx)(o.Z,{onClick:()=>N(null),sx:{width:"15%"},children:(0,w.jsx)(p.Z,{})})]})}})}),(0,w.jsx)(d.Z,{sx:{margin:"1.25rem 0"}}),(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)(o.Z,{color:"primary",onClick:()=>Z(!t),children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(o.Z,{color:"primary",children:(0,w.jsx)(h.Z,{})})]}),(0,w.jsx)(m.Z,{variant:"contained",color:"primary",disabled:C&&D,onClick:async()=>{P(!0),A(!0);const e=new FormData;e.append("content",k),e.append("image",b);const t={headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(null===D||void 0===D?void 0:D.Token)}},a="".concat("http://localhost:5000","/admins/post");try{const l=await f.Z.post(a,e,t);s((e=>[l.data.post,...e])),S(""),N(null),T({type:"success",message:"Success Post"})}catch(l){T({type:"error",message:"Somthing went Wrong "})}A(!1),P(!1)},children:z?"Posting.....":"Post"})]})]})}},3443:(e,s,t)=>{t.d(s,{Z:()=>g});var a=t(2791),l=t(5527),n=t(3044),r=t(890),c=t(697),i=t(9496),o=t(5294),d=t(4771),m=t(2374),x=t(6307),h=t(4264),u=t(2870),p=t(7689),j=t(184);const g=e=>{let{UserProfile:s,uuid:t}=e;const[g,v]=(0,a.useState)([]),[f,y]=(0,a.useState)(1),[w,Z]=(0,a.useState)(!0),[b,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),{user:C}=(0,x.z)(),{setAlert:P}=(0,h.wS)(),{pathname:z}=(0,p.TH)(),A=async()=>{try{let e=t?"".concat("http://localhost:5000","/admins/post?page=").concat(f,"&id=").concat(t):"".concat("http://localhost:5000","/admins/post?page=").concat(f);const s=(await o.Z.get(e)).data.data;s.length>0?(v((e=>{const t=s.filter((s=>!e.some((e=>e._id===s._id))));return[...e,...t]})),y(f+1)):Z(!1)}catch(e){console.error("Error fetching more posts:",e)}};(0,a.useEffect)((()=>{A()}),[t]);return(0,j.jsxs)(j.Fragment,{children:["/alumni"===z?(0,j.jsx)(u.Z,{setpostsData:v}):"",(0,j.jsxs)("div",{className:"flex p-4 flex-col mt-2 space-y-4 w-80 ".concat(s?"md:full":"md:w-5/12","  "),children:[(0,j.jsx)(d.Z,{dataLength:g.length,next:A,hasMore:w,loader:(0,j.jsx)(m.Z,{text:"Post"}),children:g.map((e=>(0,j.jsxs)(l.Z,{className:"p-4 mt-3 bg-white rounded-md shadow-md",children:[(0,j.jsxs)("div",{className:"flex items-center ",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(n.Z,{src:e.avtar,alt:"User Avatar"}),(0,j.jsx)("h2",{variant:"subtitle1",children:null===e||void 0===e?void 0:e.name})]}),(0,j.jsx)("div",{className:"/alumni"===z?"":"hidden",children:(0,j.jsx)(i.Z,{onClick:()=>(S(e),void N(!0)),className:" ml-20 text-red-600 hover:text-red-400"})})]}),(0,j.jsx)(r.Z,{variant:"body1",sx:{marginTop:"0.5rem"},children:e.content}),e.image&&(0,j.jsx)(c.Z,{mt:"1rem",children:(0,j.jsx)("img",{src:e.image,alt:"Post Image",className:"w-full"})})]},e._id)))}),b&&(0,j.jsx)("div",{className:"fixed inset-0 flex items-center justify-center ".concat(b?"visible":"hidden"),style:{backdropFilter:b?"blur(8px)":"none",zIndex:b?999:-1},children:(0,j.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,j.jsx)("p",{className:"text-lg text-black font-semibold mb-4",children:"Are you sure you want to delete this post ?"}),(0,j.jsxs)("div",{className:"mb-4",children:[k.image?(0,j.jsx)("img",{src:k.image,alt:k.Title,className:"w-56 h-36 object-cover rounded-lg mx-auto"}):"",(0,j.jsx)("p",{className:"text-gray-600 mt-2",children:k.content})]}),(0,j.jsxs)("div",{className:"flex justify-center",children:[(0,j.jsx)("button",{onClick:()=>{(async e=>{const s="".concat("http://localhost:5000","/admins/post/delete"),t={headers:{authorization:"Bearer ".concat(null===C||void 0===C?void 0:C.Token)}},a={id:e._id,image:e.path};try{await o.Z.post(s,a,t),v((s=>s.filter((s=>s._id!==e._id)))),N(null),S(null),P({type:"success",message:"Success Post Delete "})}catch(l){console.log(l),P({type:"error",message:"Somthing went Wrong "})}})(k)},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md mr-2",children:"Delete"}),(0,j.jsx)("button",{onClick:()=>{S(null),N(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md",children:"Cancel"})]})]})})]})]})}}}]);
//# sourceMappingURL=1108.2c30358c.chunk.js.map