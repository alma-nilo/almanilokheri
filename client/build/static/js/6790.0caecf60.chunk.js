"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6790],{902:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(3967),n=a(697),s=a(890),i=a(1607),o=a(184);const l=e=>{let{title:t,subtitle:a}=e;const l=(0,r.Z)(),c=(0,i.TV)(l.palette.mode);return(0,o.jsxs)(n.Z,{mb:"30px",children:[(0,o.jsx)(s.Z,{variant:"h2",color:c.grey[100],fontWeight:"bold",sx:{m:"0 0 5px 0"},children:t}),(0,o.jsx)(s.Z,{variant:"h5",color:c.greenAccent[400],children:a})]})}},6790:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(2791),n=a(5294),s=a(6088),i=a(2506),o=a(8007),l=a(902),c=a(6307),d=a(4264),u=a(184);const m=e=>{let{fetchGallery:t}=e;const a=o.Ry({title:o.Z_().required("Title is required"),image:o.nK().required("Image is required")}),{setAlert:r}=(0,d.wS)(),{admin:s}=(0,c.z)();return(0,u.jsxs)("div",{className:"p-8 rounded-lg",children:[(0,u.jsx)(l.Z,{title:"Gallery",subtitle:"Upload image to gallery"}),(0,u.jsx)(i.J9,{initialValues:{title:"",image:null},validationSchema:a,onSubmit:async(e,a)=>{let{setSubmitting:i,resetForm:o}=a;i(!0);const l=new FormData;l.append("Title",e.title),l.append("image",e.image);const c="".concat("http://localhost:5000","/admins/uploadDocument");try{await n.Z.post(c,l,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s.token)}}),r({type:"success",message:"Piture Upload"}),t(1)}catch(d){r({type:"error",message:"Somthing Went Wrong"})}o(),i(!1)},children:e=>{let{isSubmitting:t,setFieldValue:a}=e;return(0,u.jsxs)(i.l0,{className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"title",className:"block text-white mb-2",children:"Title:"}),(0,u.jsx)(i.gN,{type:"text",id:"title",name:"title",className:"w-full px-4 py-2 rounded-lg bg-purple-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Enter title"}),(0,u.jsx)(i.Bc,{name:"title",component:"div",className:"text-red-500 mt-2"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"image",className:"block text-white mb-2",children:"Upload Image:"}),(0,u.jsx)("input",{type:"file",id:"image",name:"image",className:"w-full px-4 py-2 rounded-lg bg-purple-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600",onChange:e=>{a("image",e.currentTarget.files[0])}}),(0,u.jsx)(i.Bc,{name:"image",component:"div",className:"text-red-500 mt-2"})]}),(0,u.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg",disabled:t,children:t?"Plz wait ...":"Upload"})]})}})]})};var p=a(383);const h=e=>{var t;let{pictures:a,pageview:s,currentPage:i,fetchGallery:o}=e;const[l,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[v,j]=(0,r.useState)(null),[Z,N]=(0,r.useState)(!1),{admin:w}=(0,c.z)(),{setAlert:S}=(0,d.wS)(),k={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===w||void 0===w?void 0:w.token)}};return(0,u.jsxs)("div",{className:"flex flex-wrap -mx-4 relative z-0",children:[null===a||void 0===a?void 0:a.map((e=>(0,u.jsxs)("div",{className:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 xl:w-1/6 p-4 relative ".concat(l===e._id?"z-10":""),onClick:()=>m({id:e._id,path:e.Path}),children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("img",{src:e.Document,alt:e.Title,className:"w-56 h-36 object-cover rounded-lg transition-opacity ".concat(l===e._id?"opacity-100":"opacity-80")}),(0,u.jsx)("div",{className:"absolute top-2 right-2",children:(0,u.jsx)("button",{onClick:()=>{(e=>{b(e),x(!0)})(e),s(!0)},className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-full",children:(0,u.jsx)(p.Z,{})})})]}),(0,u.jsx)("div",{className:"flex items-center mt-4",children:(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("p",{className:"text-white mr-2",children:e.Title}),(0,u.jsx)("button",{onClick:()=>{(e=>{j({id:e._id,url:e.Document}),m(e),g(e.Title),N(!0)})(e),s(!0)},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md",children:"Edit"})]})})]},e._id))),f&&(0,u.jsx)("div",{className:"fixed inset-0 flex items-center justify-center ".concat(f?"visible":"hidden"),style:{backdropFilter:f?"blur(8px)":"none",zIndex:f?999:-1},children:(0,u.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,u.jsx)("p",{className:"text-lg text-black font-semibold mb-4",children:"Are you sure you want to delete this picture?"}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("img",{src:y.Document,alt:y.Title,className:"w-56 h-36 object-cover rounded-lg mx-auto"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2",children:y.Title})]}),(0,u.jsxs)("div",{className:"flex justify-center",children:[(0,u.jsx)("button",{onClick:()=>{(async()=>{let e="".concat("http://localhost:5000","/admins/deletepicture?id=").concat(l.id,"&image=").concat(l.path);try{await n.Z.get(e,k),x(!1),S({type:"success",message:"Picture Deleted successful"}),o(i),m(null)}catch(t){x(!1),S({type:"error",message:"Somthing Went Wrong"})}s(!1)})()},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md mr-2",children:"Delete"}),(0,u.jsx)("button",{onClick:()=>{b(null),x(!1),s(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md",children:"Cancel"})]})]})}),Z&&(0,u.jsx)("div",{className:"fixed inset-0 flex items-center justify-center ".concat(Z?"visible":"hidden"),style:{backdropFilter:Z?"blur(8px)":"none",zIndex:Z?999:-1},children:(0,u.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,u.jsx)("p",{className:"text-lg text-black font-semibold mb-4",children:"Edit Title"}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("img",{src:v.url,alt:v.id,className:"w-56 h-36 object-cover rounded-lg mx-auto"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2",children:null===(t=a.find((e=>e._id===l)))||void 0===t?void 0:t.Title})]}),(0,u.jsx)("input",{type:"text",className:"px-3 py-2 rounded-md mb-4 w-64 bg-green-400 text-white focus:outline-none focus:ring-2 focus:ring-purple-600",value:h,onChange:e=>g(e.target.value)}),(0,u.jsxs)("div",{className:"flex justify-center",children:[(0,u.jsx)("button",{onClick:()=>{s(!1),(async e=>{const t="".concat("http://localhost:5000","/admins/editpicturetitle"),a={editTitle:h,id:e.id};try{await n.Z.post(t,a,k),S({type:"success",message:"Picture Edit successful"}),o(i)}catch(r){S({type:"error",message:"Something Went Wrong"})}s(!1),m(null),g(""),N(!1)})(l)},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md",children:"Save"}),(0,u.jsx)("button",{onClick:()=>{s(!1),m(null),g(""),N(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md ml-2",children:"Cancel"})]})]})})]})},g=()=>{const[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(1),[o,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),p=async e=>{let a="".concat("http://localhost:5000","/admins/allgallery?page=").concat(e,"&perPage=5");const r={headers:{admin:!0}};try{const e=await n.Z.get(a,r);t(e.data.data),l(e.data.totalPages)}catch(s){}};return(0,r.useEffect)((()=>{p(a)}),[a]),(0,u.jsxs)("div",{className:"container mx-auto p-8",children:[(0,u.jsx)(m,{fetchGallery:p}),(0,u.jsx)(h,{pictures:e,pageview:d,currentPage:a,fetchGallery:p}),(0,u.jsx)("div",{className:"flex justify-center mt-4 z-0",children:c?" ":(0,u.jsx)(s.Z,{count:o,page:a,onChange:(e,t)=>i(t),color:"success"})})]})}},1607:(e,t,a)=>{a.d(t,{TV:()=>s,kc:()=>i,yU:()=>o});var r=a(2791),n=a(7107);const s=e=>({..."dark"===e?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#141b2d",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#70d8bd",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#ffffff",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#70d8bd",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}}}),i=(0,r.createContext)({toggleColorMode:()=>{}}),o=()=>{const[e,t]=(0,r.useState)("dark"),a=(0,r.useMemo)((()=>({toggleColorMode:()=>t((e=>"light"===e?"dark":"light"))})),[]);return[(0,r.useMemo)((()=>(0,n.Z)((e=>{const t=s(e);return{palette:{mode:e,..."dark"===e?{primary:{main:t.primary[500]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:t.primary[500]}}:{primary:{main:t.primary[100]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:"#fcfcfc"}}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:12,h1:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:40},h2:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:32},h3:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24},h4:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:20},h5:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:16},h6:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:14}}}})(e))),[e]),a]}},383:(e,t,a)=>{var r=a(4836);t.Z=void 0;var n=r(a(5649)),s=a(184),i=(0,n.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=i},697:(e,t,a)=>{a.d(t,{Z:()=>b});var r=a(7462),n=a(3366),s=a(2791),i=a(3733),o=a(2421),l=a(104),c=a(8519),d=a(418),u=a(184);const m=["className","component"];var p=a(5902),h=a(7107),g=a(988);const f=(0,a(5878).Z)("MuiBox",["root"]),x=(0,h.Z)(),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:p="MuiBox-root",generateClassName:h}=e,g=(0,o.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.Z);return s.forwardRef((function(e,s){const o=(0,d.Z)(a),l=(0,c.Z)(e),{className:f,component:x="div"}=l,y=(0,n.Z)(l,m);return(0,u.jsx)(g,(0,r.Z)({as:x,ref:s,className:(0,i.Z)(f,h?h(p):p),theme:t&&o[t]||o},y))}))}({themeId:g.Z,defaultTheme:x,defaultClassName:f.root,generateClassName:p.Z.generate}),b=y},890:(e,t,a)=>{a.d(t,{Z:()=>v});var r=a(3366),n=a(7462),s=a(2791),i=a(3733),o=a(8519),l=a(4419),c=a(6934),d=a(1402),u=a(4036),m=a(5878),p=a(1217);function h(e){return(0,p.Z)("MuiTypography",e)}(0,m.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var g=a(184);const f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],x=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat((0,u.Z)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.Z)({margin:0},"inherit"===a.variant&&{font:"inherit"},"inherit"!==a.variant&&t.typography[a.variant],"inherit"!==a.align&&{textAlign:a.align},a.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.gutterBottom&&{marginBottom:"0.35em"},a.paragraph&&{marginBottom:16})})),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},v=s.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiTypography"}),s=(e=>b[e]||e)(a.color),c=(0,o.Z)((0,n.Z)({},a,{color:s})),{align:m="inherit",className:p,component:v,gutterBottom:j=!1,noWrap:Z=!1,paragraph:N=!1,variant:w="body1",variantMapping:S=y}=c,k=(0,r.Z)(c,f),P=(0,n.Z)({},c,{align:m,color:s,className:p,component:v,gutterBottom:j,noWrap:Z,paragraph:N,variant:w,variantMapping:S}),C=v||(N?"p":S[w]||y[w])||"span",T=(e=>{const{align:t,gutterBottom:a,noWrap:r,paragraph:n,variant:s,classes:i}=e,o={root:["root",s,"inherit"!==e.align&&"align".concat((0,u.Z)(t)),a&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return(0,l.Z)(o,h,i)})(P);return(0,g.jsx)(x,(0,n.Z)({as:C,ref:t,ownerState:P,className:(0,i.Z)(T.root,p)},k))}))},3967:(e,t,a)=>{a.d(t,{Z:()=>i});a(2791);var r=a(418),n=a(6482),s=a(988);function i(){const e=(0,r.Z)(n.Z);return e[s.Z]||e}},8519:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(7462),n=a(3366),s=a(2466),i=a(7416);const o=["sx"],l=e=>{var t,a;const r={systemProps:{},otherProps:{}},n=null!=(t=null==e||null==(a=e.theme)?void 0:a.unstable_sxConfig)?t:i.Z;return Object.keys(e).forEach((t=>{n[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,a=(0,n.Z)(e,o),{systemProps:i,otherProps:c}=l(a);let d;return d=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,s.P)(e)?(0,r.Z)({},i,e):i}:(0,r.Z)({},i,t),(0,r.Z)({},c,{sx:d})}}}]);
//# sourceMappingURL=6790.0caecf60.chunk.js.map