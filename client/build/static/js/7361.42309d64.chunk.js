"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7361],{7361:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});s(2791);var d=s(2506),a=s(8007),o=s(5294),n=s(4264),l=s(6307),r=s(184);const c=a.Ry().shape({oldpwd:a.Z_().required("Required").notOneOf([a.iH("newpwd"),null],"Old password must not be the same as the new password"),newpwd:a.Z_().required("Required").matches(/^(?=.*\d)(?=.*[A-Z]).{8,}$/,"Password must be at least 8 characters long, contain at least one number, and have at least one capital letter"),Cpwd:a.Z_().oneOf([a.iH("newpwd"),null],"Passwords must match").required("Required")}),w=()=>{const{setAlert:e}=(0,n.wS)(),{admin:t}=(0,l.z)();return(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[(0,r.jsx)("h1",{className:" text-3xl text-gray-400 font-bold mb-4",children:"Password Change"}),(0,r.jsx)(d.J9,{initialValues:{oldpwd:"",newpwd:"",Cpwd:""},validationSchema:c,onSubmit:async(s,d)=>{let{resetForm:a}=d;const{oldpwd:n,newpwd:l}=s,r="".concat("http://localhost:5000","/admins/changePwd"),c={oldpwd:n,newpwd:l},w={headers:{Authorization:"Bearer ".concat(t.token)}};try{const{data:t}=await o.Z.post(r,c,w);if(0===t.code)return void e({type:"error",message:"Old Password Wrong"});e({type:"success",message:"Password Change success"}),a()}catch(p){e({type:"error",message:p.message})}},children:e=>{let{errors:t,touched:s,isSubmitting:a}=e;return(0,r.jsxs)(d.l0,{className:"mt-4",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"oldpwd",children:"Old Password:"}),(0,r.jsx)(d.gN,{type:"text",name:"oldpwd",id:"oldpwd",className:"appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold bg-purple-600 leading-tight focus:outline-none focus:shadow-outline ".concat(t.oldpwd&&s.oldpwd?" border border-red-500":""),placeholder:"Enter Old password"}),(0,r.jsx)(d.Bc,{name:"oldpwd",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"newpwd",children:"New Password:"}),(0,r.jsx)(d.gN,{type:"password",name:"newpwd",id:"newpwd",className:"appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold leading-tight  bg-purple-600 focus:outline-none focus:shadow-outline ".concat(t.newpwd&&s.newpwd?"border border-red-500":""),placeholder:"New Password"}),(0,r.jsx)(d.Bc,{name:"newpwd",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Cpwd",children:"Confirm Password:"}),(0,r.jsx)(d.gN,{type:"password",name:"Cpwd",id:"Cpwd",className:"appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold leading-tight bg-purple-600 focus:outline-none focus:shadow-outline ".concat(t.Cpwd&&s.Cpwd?"border border-red-500":""),placeholder:"Enter Confirm Password"}),(0,r.jsx)(d.Bc,{name:"Cpwd",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:a,children:a?"Plz wait ......":" Submit Event"})]})}})]})}}}]);
//# sourceMappingURL=7361.42309d64.chunk.js.map