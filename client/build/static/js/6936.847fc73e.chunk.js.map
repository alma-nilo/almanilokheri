{"version":3,"file":"static/js/6936.847fc73e.chunk.js","mappings":"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","sources":["admin/components/NewsSwitch.jsx","admin/components/NewsUploadFrom.jsx","admin/components/NewsView.jsx","admin/pages/News.jsx","../node_modules/@mui/material/FormControl/FormControlContext.js","../node_modules/@mui/material/FormControl/useFormControl.js"],"sourcesContent":["import { styled } from \"@mui/material/styles\";\nimport Switch from \"@mui/material/Switch\";\n\nconst NewsSwitch = styled(Switch)(({ theme }) => ({\n  padding: 8,\n  \"& .MuiSwitch-track\": {\n    borderRadius: 22 / 2,\n    \"&:before, &:after\": {\n      content: '\"\"',\n      position: \"absolute\",\n      top: \"50%\",\n      transform: \"translateY(-50%)\",\n      width: 16,\n      height: 16,\n    },\n    \"&:before\": {\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 24 24\"><path fill=\"${encodeURIComponent(\n        theme.palette.getContrastText(theme.palette.primary.main)\n      )}\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"/></svg>')`,\n      left: 12,\n    },\n    \"&:after\": {\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 24 24\"><path fill=\"${encodeURIComponent(\n        theme.palette.getContrastText(theme.palette.primary.main)\n      )}\" d=\"M19,13H5V11H19V13Z\" /></svg>')`,\n      right: 12,\n    },\n  },\n  \"& .MuiSwitch-thumb\": {\n    boxShadow: \"none\",\n    width: 16,\n    height: 16,\n    margin: 2,\n  },\n}));\n\nexport default NewsSwitch;\n","import React, { useState } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport NewsSwitch from \"./NewsSwitch\";\nimport axios from \"axios\";\nimport { AlertApi } from \"../../context/AlertContext\";\nimport { AuthApi } from \"../../context/user\";\n\nconst NewsSchema = Yup.object().shape({\n  title: Yup.string().required(\"Title is required\"),\n  date: Yup.date().required(\"Date is required\"),\n  newsText: Yup.string().required(\"News text is required\"),\n});\n\nconst NewsForm = ({ fetchNews }) => {\n  const [toggle, setToggle] = useState(true);\n  const { setAlert } = AlertApi();\n\n  const { admin } = AuthApi();\n  const handleSubmit = async (values, { resetForm }) => {\n    // Handle the form submission here\n    const { title, date, newsText } = values;\n\n    const url = `${process.env.REACT_APP_API_KEY}/admins/news`;\n\n    const playload = {\n      title: title,\n      newFlag: toggle,\n      date: date,\n      description: newsText,\n    };\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${admin.token}`,\n      },\n    };\n    try {\n      await axios.post(url, playload, config);\n      setAlert({ type: \"success\", message: \"success\" });\n      fetchNews();\n      resetForm();\n    } catch (error) {\n      setAlert({ type: \"error\", message: \"Somthing went wrong\" });\n    }\n  };\n  return (\n    <Formik\n      initialValues={{ title: \"\", date: \"\", newsText: \"\" }}\n      validationSchema={NewsSchema}\n      onSubmit={handleSubmit}\n    >\n      {({ errors, touched, isSubmitting }) => (\n        <Form className=\"mt-4\">\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\n              htmlFor=\"title\"\n            >\n              News Title:\n            </label>\n            <Field\n              type=\"text\"\n              name=\"title\"\n              id=\"title\"\n              className={`appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold bg-purple-600 leading-tight focus:outline-none focus:shadow-outline ${\n                errors.title && touched.title ? \" border border-red-500\" : \"\"\n              }`}\n              placeholder=\"Enter news title\"\n            />\n            <ErrorMessage\n              name=\"title\"\n              component=\"div\"\n              className=\"text-red-500 text-sm mt-1\"\n            />\n          </div>\n\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\n              htmlFor=\"date\"\n            >\n              Date:\n            </label>\n            <Field\n              type=\"date\"\n              name=\"date\"\n              id=\"date\"\n              className={`appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold leading-tight  bg-purple-600 focus:outline-none focus:shadow-outline ${\n                errors.date && touched.date ? \"border border-red-500\" : \"\"\n              }`}\n              placeholder=\"Select news date\"\n            />\n            <ErrorMessage\n              name=\"date\"\n              component=\"div\"\n              className=\"text-red-500 text-sm mt-1\"\n            />\n          </div>\n\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\n              htmlFor=\"newsText\"\n            >\n              News Text:\n            </label>\n            <Field\n              as=\"textarea\"\n              name=\"newsText\"\n              id=\"newsText\"\n              rows=\"4\"\n              className={`appearance-none  rounded w-full py-2 px-3 text-white-900 font-bold leading-tight bg-purple-600 focus:outline-none focus:shadow-outline ${\n                errors.newsText && touched.newsText\n                  ? \"border border-red-500\"\n                  : \"\"\n              }`}\n              placeholder=\"Enter news text\"\n            />\n            <ErrorMessage\n              name=\"newsText\"\n              component=\"div\"\n              className=\"text-red-500 text-sm mt-1\"\n            />\n          </div>\n\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\n              htmlFor=\"toggle\"\n            >\n              NEW : toggle\n            </label>\n            <NewsSwitch\n              checked={toggle}\n              onChange={() => setToggle(!toggle)}\n              color=\"success\"\n            />\n            <ErrorMessage\n              name=\"toggle\"\n              component=\"div\"\n              className=\"text-red-500 text-sm mt-1\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            disabled={isSubmitting}\n          >\n            {isSubmitting ? \"Plz wait ......\" : \" Submit News\"}\n          </button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default NewsForm;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport NewsSwitch from \"./NewsSwitch\";\nimport axios from \"axios\";\nimport { AuthApi } from \"../../context/user\";\nimport { AlertApi } from \"../../context/AlertContext\";\n\nconst NewsView = ({ newsList, setNewsList, fetchNews }) => {\n  // Sample news data for demonstration (replace with actual data)\n\n  const [isDeleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedNewsForDelete, setselectedNewsForDelete] = useState(null);\n  const [isEditDialogOpen, setEditDialogOpen] = useState(false);\n  const [selectedNews, setSelectedNews] = useState(null);\n  const [toggle, setToggle] = useState(null);\n  const [loader, setloader] = useState(false);\n\n  const handleEdit = (news) => {\n    setSelectedNews(news);\n    setToggle(news.newFlag);\n    setEditDialogOpen(true);\n    setloader(false);\n  };\n\n  const { admin } = AuthApi();\n  const { setAlert } = AlertApi();\n\n  const handleCancelEdit = () => {\n    setEditDialogOpen(false);\n    setSelectedNews(null);\n    setloader(false);\n  };\n\n  const handleConfirmEdit = async (values) => {\n    // Update the news item with new data (description and isFlag)\n\n    if (\n      values.description === selectedNews.description &&\n      toggle === selectedNews.newFlag\n    ) {\n      setAlert({ type: \"warning\", message: \"News can't be as previous\" });\n      return;\n    }\n    setloader(true);\n\n    const url = `${process.env.REACT_APP_API_KEY}/admins/news/edit`;\n\n    const playload = {\n      id: selectedNews._id,\n      newflag: toggle,\n      description: values.description,\n    };\n    //console.log(playload);\n    const config = {\n      headers: {\n        Authorization: `Bearer ${admin?.token}`,\n      },\n    };\n\n    try {\n      await axios.post(url, playload, config);\n      setAlert({ type: \"success\", message: \"News Updated successful\" });\n      setEditDialogOpen(false);\n      setSelectedNews(null);\n      setloader(false);\n      fetchNews();\n    } catch (error) {\n      setAlert({ type: \"error\", message: \"Somthing went wrong\" });\n    }\n  };\n\n  const handleDelete = (id, title) => {\n    // Open the delete confirmation dialog\n    setDeleteDialogOpen(true);\n    setselectedNewsForDelete({ id: id, title: title });\n  };\n\n  const handleConfirmDelete = async () => {\n    // Close the delete confirmation dialog\n    const url = `${process.env.REACT_APP_API_KEY}/admins/news/delete`;\n\n    const playload = {\n      id: selectedNewsForDelete.id,\n    };\n    const config = {\n      headers: {\n        Authorization: `Bearer ${admin?.token}`,\n      },\n    };\n\n    try {\n      await axios.post(url, playload, config);\n      setAlert({ type: \"success\", message: \"News Deleted successful\" });\n\n      setDeleteDialogOpen(false);\n      setselectedNewsForDelete(null);\n      fetchNews();\n    } catch (error) {\n      setAlert({ type: \"error\", message: \"Somthing went wrong\" });\n    }\n  };\n\n  const handleCancelDelete = () => {\n    // Close the delete confirmation dialog\n    setDeleteDialogOpen(false);\n    setselectedNewsForDelete(null);\n  };\n  const validationSchema = Yup.object().shape({\n    description: Yup.string().required(\"Description is required\"),\n  });\n\n  const blinkingTagStyle = `\n  @keyframes blink {\n    0% {\n      background-color: #ff0000;\n      transform: scale(1);\n    }\n    25% {\n      background-color: #0bff89;\n      transform: scale(1.2);\n    }\n    50% {\n      background-color: #2cff0b;\n      transform: scale(1);\n    }\n    75% {\n      background-color: #0b30ff;\n      transform: scale(1.2);\n    }\n    100% {\n      background-color: #ff00e6;\n      transform: scale(1);\n    }\n  }\n  \n  .blinking-tag {\n    animation: blink 1s infinite;\n    position: absolute;\n    top: 25px;\n    right: 20px;\n    padding: 0px 5px;\n    color: white;\n    font-weight: bold;\n    border-radius: 4px;\n  }\n`;\n  return (\n    <div className=\"min-h-screen  \">\n      <style>{blinkingTagStyle}</style>\n      <div className=\"container mx-auto p-8\">\n        <h1 className=\"text-3xl font-bold mb-4\">News View</h1>\n        {newsList?.map((news) => (\n          <div\n            key={news._id}\n            className={` border rounded-lg p-6 mb-4 shadow-md hover:shadow-lg transition duration-300 ${\n              news.newFlag ? \"relative\" : \"\"\n            }`}\n          >\n            {news.newFlag && <span className=\"blinking-tag\">New</span>}\n            <h2 className=\"text-xl font-bold mb-2\">{news.title}</h2>\n            <p className=\"text-purple-300 mb-2\">{news.date}</p>\n            <p className=\"text-sm mb-4\">{news.description}</p>\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <button\n                  onClick={() => handleEdit(news)}\n                  className=\"text-green-500 font-bold py-2 px-4 rounded mr-2 hover:bg-green-500 hover:text-white focus:outline-none focus:shadow-outline\"\n                >\n                  Edit\n                </button>\n              </div>\n              <button\n                onClick={() => handleDelete(news._id, news.title)}\n                className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Custom Delete Confirmation Modal */}\n      {selectedNewsForDelete && (\n        <div\n          className={`fixed inset-0 flex items-center justify-center ${\n            isDeleteDialogOpen ? \"visible\" : \"hidden\"\n          }`}\n          style={{\n            backdropFilter: isDeleteDialogOpen ? \"blur(8px)\" : \"none\",\n            zIndex: isDeleteDialogOpen ? 999 : -1,\n          }}\n        >\n          <div className=\"bg-white rounded-lg p-6 text-center\">\n            <p className=\"text-lg text-black font-semibold mb-4\">\n              Are you sure you want to delete this News?\n            </p>\n            <div className=\"mb-4\">\n              <p className=\"text-gray-600 mt-2\">\n                {selectedNewsForDelete.title}\n              </p>\n            </div>\n            <div className=\"flex justify-center\">\n              <button\n                onClick={() => {\n                  handleConfirmDelete();\n                }}\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md mr-2\"\n              >\n                Delete\n              </button>\n              <button\n                onClick={() => {\n                  handleCancelDelete();\n                }}\n                className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Custom Edit Dialog */}\n      {selectedNews && (\n        <div\n          className={`fixed inset-0 flex items-center justify-center ${\n            isEditDialogOpen ? \"visible\" : \"hidden\"\n          }`}\n          style={{\n            backdropFilter: isEditDialogOpen ? \"blur(8px)\" : \"none\",\n            zIndex: isEditDialogOpen ? 999 : -1,\n          }}\n        >\n          <div className=\"bg-white border border-black rounded-lg p-8\">\n            <h2 className=\"text-xl font-bold mb-4 text-purple-700\">\n              Edit News\n            </h2>\n            <Formik\n              initialValues={{\n                description: selectedNews.description,\n              }}\n              validationSchema={validationSchema}\n              onSubmit={handleConfirmEdit}\n            >\n              {({ errors, touched, isSubmitting }) => (\n                <Form>\n                  <div className=\"mb-4\">\n                    <label className=\"block text-gray-700 font-bold mb-2\">\n                      Description\n                    </label>\n                    <Field\n                      name=\"description\"\n                      className={`appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${\n                        errors.description && touched.description\n                          ? \"border-red-500\"\n                          : \"\"\n                      }`}\n                      component=\"textarea\"\n                      rows=\"3\"\n                      placeholder=\"Enter news description\"\n                    />\n                    {errors.description && touched.description && (\n                      <p className=\"text-red-500 text-xs italic\">\n                        {errors.description}\n                      </p>\n                    )}\n                  </div>\n\n                  {selectedNews.newFlag ? (\n                    <div className=\"mb-4\">\n                      <label className=\"flex items-center\">\n                        <NewsSwitch\n                          checked={toggle}\n                          onChange={() => setToggle(!toggle)}\n                          color=\"success\"\n                        />\n                        <span className=\"ml-2 text-gray-700 font-bold\">\n                          Mark as new\n                        </span>\n                      </label>\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                  <div className=\"flex justify-end\">\n                    <button\n                      type=\"button\"\n                      onClick={handleCancelEdit}\n                      className=\"text-gray-500 font-bold py-2 px-4 rounded mr-2 hover:bg-gray-200 focus:outline-none focus:shadow-outline\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={loader}\n                      className=\"bg-purple-800 hover:bg-purple-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                    >\n                      {loader ? \"Plz wait .....\" : \"Update\"}\n                    </button>\n                  </div>\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default NewsView;\n","import React, { useEffect, useState } from \"react\";\nimport NewsForm from \"../components/NewsUploadFrom\";\n\nimport NewsView from \"../components/NewsView\";\nimport { AuthApi } from \"../../context/user\";\nimport axios from \"axios\";\n\nconst NewsPage = () => {\n  const [newsList, setNewsList] = useState([]);\n  const { admin } = AuthApi();\n\n  const fetchNews = async () => {\n    // Handle the form submission here\n\n    const url = `${process.env.REACT_APP_API_KEY}/admins/news`;\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${admin?.token}`,\n      },\n    };\n    try {\n      const res = await axios.get(url, config);\n\n      setNewsList(res.data.data);\n    } catch (error) {}\n  };\n  useEffect(() => {\n    fetchNews();\n  }, [admin]);\n\n  return (\n    <div className={`min-h-screen  `}>\n      <div className=\"container mx-auto p-8\">\n        <h1 className={` text-3xl text-gray-400 font-bold mb-4`}>\n          News Upload\n        </h1>\n        <NewsForm fetchNews={fetchNews} />\n      </div>\n      <NewsView\n        newsList={newsList}\n        setNewsList={setNewsList}\n        fetchNews={fetchNews}\n      />\n    </div>\n  );\n};\n\nexport default NewsPage;\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\nconst FormControlContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== 'production') {\n  FormControlContext.displayName = 'FormControlContext';\n}\nexport default FormControlContext;","'use client';\n\nimport * as React from 'react';\nimport FormControlContext from './FormControlContext';\nexport default function useFormControl() {\n  return React.useContext(FormControlContext);\n}"],"names":["styled","Switch","_ref","theme","padding","borderRadius","content","position","top","transform","width","height","backgroundImage","concat","encodeURIComponent","palette","getContrastText","primary","main","left","right","boxShadow","margin","NewsSchema","Yup","shape","title","required","date","newsText","fetchNews","toggle","setToggle","useState","setAlert","AlertApi","admin","AuthApi","_jsx","Formik","initialValues","validationSchema","onSubmit","async","values","_ref2","resetForm","url","process","playload","newFlag","description","config","headers","Authorization","token","axios","post","type","message","error","children","_ref3","errors","touched","isSubmitting","_jsxs","Form","className","htmlFor","Field","name","id","placeholder","ErrorMessage","component","as","rows","NewsSwitch","checked","onChange","color","disabled","newsList","setNewsList","isDeleteDialogOpen","setDeleteDialogOpen","selectedNewsForDelete","setselectedNewsForDelete","isEditDialogOpen","setEditDialogOpen","selectedNews","setSelectedNews","loader","setloader","handleCancelEdit","map","news","onClick","handleEdit","handleDelete","_id","style","backdropFilter","zIndex","handleConfirmDelete","newflag","NewsPage","res","get","data","useEffect","NewsForm","NewsView","React","undefined","useFormControl","FormControlContext"],"sourceRoot":""}