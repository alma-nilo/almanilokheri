"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9757],{5151:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var n=s(2791),a=s(1975),r=s(3967),i=s(890),o=s(697),c=s(3400),l=s(1087),d=(s(1635),s(1607)),x=s(6183),m=s(7374),h=s(617),u=s(2456),g=s(5710),f=s(4390),j=s(2913),p=s(6843),b=s(3343),y=s(6307),v=s(184);const w=e=>{let{title:t,to:s,icon:n,selected:o}=e;const c=(0,r.Z)(),x=(0,d.TV)(c.palette.mode);return(0,v.jsxs)(a.sN,{active:o===window.location.pathname,style:{color:x.grey[100]},icon:n,children:[(0,v.jsx)(l.rU,{to:s}),(0,v.jsx)(i.Z,{children:t})]})},N=()=>{const e=(0,r.Z)(),t=(0,d.TV)(e.palette.mode),[s,l]=(0,n.useState)(!1),{admin:N,userReqNotification:Z}=(0,y.z)();return(0,v.jsx)(o.Z,{sx:{"& .pro-sidebar-inner":{background:"".concat(t.primary[400]," !important")},"& .pro-icon-wrapper":{backgroundColor:"transparent !important"},"& .pro-inner-item":{padding:"5px 35px 5px 20px !important"},"& .pro-inner-item:hover":{color:"#868dfb !important"},"& .pro-menu-item.active":{color:"#6870fa !important"}},children:(0,v.jsx)(a.M7,{collapsed:s,children:(0,v.jsxs)(a.v2,{iconShape:"square",children:[(0,v.jsx)(a.sN,{onClick:()=>l(!s),icon:s?(0,v.jsx)(f.Z,{}):void 0,style:{margin:"10px 0 20px 0",color:t.grey[100]},children:!s&&(0,v.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",ml:"15px",children:[(0,v.jsx)(i.Z,{variant:"h3",color:t.grey[100],children:"ADMIN"}),(0,v.jsx)(c.Z,{onClick:()=>l(!s),children:(0,v.jsx)(f.Z,{})})]})}),!s&&(0,v.jsxs)(o.Z,{mb:"25px",children:[(0,v.jsx)(o.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,v.jsx)("img",{className:"object-cover",alt:"profile-user",width:"100px",height:"100px",src:"https://images.pexels.com/photos/8059110/pexels-photo-8059110.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",style:{cursor:"pointer",borderRadius:"100px 100px"}})}),(0,v.jsxs)(o.Z,{textAlign:"center",children:[(0,v.jsx)(i.Z,{variant:"h2",color:t.grey[100],fontWeight:"bold",sx:{m:"10px 0 0 0"},children:null===N||void 0===N?void 0:N.user}),(0,v.jsx)(i.Z,{variant:"h5",color:t.greenAccent[500],children:"Smart Admin"})]})]}),(0,v.jsxs)(o.Z,{paddingLeft:s?void 0:"10%",children:[(0,v.jsx)(w,{title:"Dashboard",to:"/admin",icon:(0,v.jsx)(x.Z,{}),selected:"/admin"})," ",(0,v.jsx)(i.Z,{variant:"h6",color:t.grey[300],sx:{m:"15px 0 5px 20px"},children:"Data"}),(0,v.jsx)(w,{title:"User Request",to:"/admin/req",icon:(0,v.jsxs)("div",{className:"user_not",children:[(0,v.jsx)(m.Z,{}),Z>0&&"/admin/req"!==window.location.pathname?(0,v.jsx)("div",{className:"green-dot"}):""]}),selected:"/admin/req"}),(0,v.jsx)(w,{title:"All User",to:"/admin/user",icon:(0,v.jsx)(h.Z,{}),selected:"/admin/user"}),(0,v.jsx)(w,{title:"Gallery",to:"/admin/gallery",icon:(0,v.jsx)(j.Z,{}),selected:"/admin/gallery"}),(0,v.jsx)(w,{title:"News",to:"/admin/news",icon:(0,v.jsx)(g.Z,{}),selected:"/admin/news"}),(0,v.jsx)(w,{title:"Events",to:"/admin/events",icon:(0,v.jsx)(p.Z,{}),selected:"/admin/events"}),(0,v.jsx)(w,{title:"Institute Record",to:"/admin/Record",icon:(0,v.jsx)(u.Z,{}),selected:"/admin/Record"}),(0,v.jsx)(w,{title:"Change Password",to:"/admin/pwd",icon:(0,v.jsx)(b.Z,{}),selected:"/admin/pwd"})]})]})})})};var Z=s(9814),C=s(3299),S=s(8326),k=s(6488);const A=e=>{let{logout:t,notificationCount:s,fetchUnreadCount:a,setShowMessage:i,showMessage:l}=e;const x=(0,r.Z)(),m=(0,d.TV)(x.palette.mode),h=(0,n.useContext)(d.kc),[u,g]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(s>0){g(!0);const e=setInterval((()=>{g((e=>!e))}),1e3);return()=>{clearInterval(e)}}g(!1)}),[s]),(0,n.useEffect)((()=>{const e=setInterval((()=>{a()}),3e5);return()=>{clearInterval(e)}}),[]),(0,v.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",p:2,children:[(0,v.jsx)(o.Z,{display:"flex",backgroundColor:m.primary[400],borderRadius:"3px"}),(0,v.jsxs)(o.Z,{display:"flex",children:[(0,v.jsx)(c.Z,{onClick:h.toggleColorMode,children:"dark"===x.palette.mode?(0,v.jsx)(C.Z,{}):(0,v.jsx)(Z.Z,{})}),(0,v.jsxs)(c.Z,{onClick:()=>{i(!l),a()},children:[(0,v.jsx)(S.Z,{}),u&&(0,v.jsx)("div",{className:"red-dot ".concat(l?"hidden":""," "),children:s})," "]}),(0,v.jsx)(c.Z,{children:(0,v.jsx)(k.Z,{onClick:()=>{t(!0)}})})]})]})};var z=s(4507),M=s(4708),F=s(7689);const U=e=>{let{isOpen:t,onClose:s,onLogout:n}=e;return(0,v.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center ".concat(t?"visible":"hidden"),style:{backdropFilter:t?"blur(8px)":"none",zIndex:t?999:-1},children:[(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r opacity-75"}),(0,v.jsxs)("div",{className:"relative bg-white p-6 rounded-lg shadow-md",children:[(0,v.jsx)("h2",{className:"text-2xl text-gray-800 mb-4",children:"Logout Confirmation"}),(0,v.jsx)("p",{className:"text-gray-700 mb-6",children:"Are you sure you want to log out?"}),(0,v.jsxs)("div",{className:"flex justify-end",children:[(0,v.jsx)("button",{onClick:n,className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 mr-2",children:"Logout"}),(0,v.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})};var I=s(8329),P=s(5294),D=s(5130),E=s(7247),L=s(4264);const R=e=>{let{message:t,onClose:s,onDelete:n,fetchMessage:a}=e;return(0,v.jsxs)("div",{className:"bg-gray-900  fixed bottom-4 right-10 z-40 h-96 w-72 overflow-hidden p-4 rounded-lg shadow-lg text-white",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)("div",{className:"text-2xl font-semibold",children:t.name}),(0,v.jsx)("button",{onClick:()=>{s(!1),a()},className:"text-gray-400 hover:text-gray-300",children:(0,v.jsx)(D.Z,{})})]}),(0,v.jsx)("hr",{className:"border-gray-700 mb-4"}),(0,v.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:t.email}),(0,v.jsx)("div",{className:"text-gray-400 text-sm mt-4",children:t.time}),(0,v.jsx)("div",{className:" bg-gray-800 mt-2 h-48 rounded-md p-2 overflow-y-auto msgBox ",children:(0,v.jsx)("p",{className:"text-gray-300 ",children:t.message})}),(0,v.jsx)("div",{className:" flex mt-4 justify-between items-center",children:(0,v.jsxs)("button",{onClick:()=>n(t._id),className:"px-4 py-2 w-full mb-2 text-white bg-red-500 hover:bg-red-600 rounded",children:[(0,v.jsx)(E.Z,{})," Delete"]})})]})},q=e=>{let{setShowMessage:t,fetchUnreadCount:s}=e;const[a,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,l]=(0,n.useState)(null),[d,x]=(0,n.useState)(null),[m,h]=(0,n.useState)(null),[u,g]=(0,n.useState)(!1),{setAlert:f}=(0,L.wS)(),{admin:j}=(0,y.z)(),p=async()=>{try{o(!0);const e="".concat("http://localhost:5000","/admins/contactUs"),t={headers:{Authorization:"Bearer ".concat(null===j||void 0===j?void 0:j.token)}},s=await P.Z.get(e,t);r(s.data),o(!1)}catch(e){}},b=e=>{x(e)};return(0,n.useEffect)((()=>{p()}),[j]),(0,v.jsxs)(v.Fragment,{children:[u&&(0,v.jsx)(R,{message:a[m],onClose:g,onDelete:b,fetchMessage:p}),(0,v.jsxs)("div",{className:"fixed bottom-4 right-10  z-30 h-96 w-72 overflow-hidden ",children:[(0,v.jsxs)("div",{className:"bg-gray-900 p-4 shadow-lg rounded-lg text-white h-full",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)("img",{className:"w-12 h-12 bg-green-500 rounded-full mr-2 object-cover",src:"https://images.pexels.com/photos/8059110/pexels-photo-8059110.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:""}),(0,v.jsx)("h2",{className:"text-xl font-semibold",children:"Messages"})]}),(0,v.jsxs)("button",{onClick:()=>t(!1),className:"text-white hover:text-gray-400",children:[(0,v.jsx)(D.Z,{onClick:()=>{t(!1),s()}})," "]})]}),(0,v.jsx)("hr",{className:"border-gray-700 mb-4"})," ",(0,v.jsx)("div",{className:"overflow-y-auto msgBox h-72",children:i?(0,v.jsx)("div",{class:"loader-container",children:(0,v.jsxs)("div",{class:"loader",children:[" ",(0,v.jsx)("p",{className:"loader-text",children:"Loading"})]})}):(0,v.jsx)("div",{className:"divide-y divide-gray-700",children:null===a||void 0===a?void 0:a.map(((e,t)=>(0,v.jsxs)("div",{className:"py-4 ".concat(c===t?"bg-gray-800 p-2 rounded-md cursor-pointer":""),onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),onClick:()=>{h(t),g(!0),(async(e,t)=>{if(t){const t="".concat("http://localhost:5000","/admins/contactUsCount?_id=").concat(e);await P.Z.post(t)}})(e._id,e.unread)},children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"text-lg  ".concat(e.unread?"font-extrabold text-white":" text-gray-300 font-normal"," "),children:e.name}),(0,v.jsx)("div",{className:"".concat(e.unread?"font-bold ":"","text-sm text-gray-400 "),children:e.email})]}),(0,v.jsx)("div",{className:"text-sm text-gray-400",children:c===t?(0,v.jsx)("button",{children:(0,v.jsx)(E.Z,{onClick:()=>b(e._id)})}):(0,v.jsxs)(v.Fragment,{children:[e.unread&&(0,v.jsx)("span",{className:"mr-2 bg-green-500 h-2 w-2 rounded-full inline-block"}),e.time]})})]}),(0,v.jsxs)("div",{className:" ".concat(e.unread?"text-white font-bold":" text-sm text-gray-300"," "),children:[e.message.slice(0,20)," ..."]})]},t)))})})]}),null!==d&&(0,v.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50   ",style:{backdropFilter:d?"blur(8px)":"none",zIndex:d?999:-1},children:(0,v.jsxs)("div",{className:"bg-white p-4 w-80 rounded-lg shadow-lg",children:[(0,v.jsx)("p",{className:"text-gray-700 text-md mb-4",children:"Are you sure you want to delete this Message ?"}),(0,v.jsxs)("div",{className:"flex justify-end",children:[(0,v.jsx)("button",{className:"mr-2 px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded",onClick:async()=>{try{const e="".concat("http://localhost:5000","/admins/ContactUsDelete?_id=").concat(d);await P.Z.post(e),x(null),h(null),g(!1),f({type:"success",message:"Delete success"}),p()}catch(e){}},children:"Delete"}),(0,v.jsx)("button",{className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded",onClick:()=>x(null),children:"Cancel"})]})]})})]})]})},_=()=>{const[e,t]=(0,d.yU)(),[s,a]=(0,n.useState)(!0),[r,i]=(0,n.useState)(0),{admin:o}=(0,y.z)(),[c,l]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!1),{setadmin:g,fetchUserReqCount:f}=(0,y.z)(),j=(0,F.s0)(),p=async()=>{try{const e="".concat("http://localhost:5000","/admins/contactUsCount"),t=await P.Z.get(e);i(t.data.unreadCount)}catch(e){}};return(0,n.useEffect)((()=>{p(),f()}),[o]),(0,n.useEffect)((()=>{const e=()=>{const e=window.innerWidth;u(e<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,v.jsx)(d.kc.Provider,{value:t,children:(0,v.jsxs)(z.Z,{theme:e,children:[(0,v.jsx)(M.ZP,{}),h?(0,v.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-r from-green-500 via-purple-500 to-pink-500",children:(0,v.jsxs)("div",{className:"p-4 bg-gradient-to-r from-yellow-300 to-orange-400 rounded-lg shadow-lg text-center",children:[(0,v.jsx)("p",{className:"text-lg text-black mb-4",children:"Admin Panel not supported for small Screen."}),(0,v.jsx)("a",{href:"/",className:"inline-block px-6 py-3 text-lg font-semibold text-white bg-green-600 rounded-full hover:bg-green-700 transition duration-300",children:"Go Home"})]})}):(0,v.jsxs)("div",{className:"app",children:[(0,v.jsx)("div",{className:"sideFix",children:(0,v.jsx)(N,{isSidebar:s})}),(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)(A,{setIsSidebar:a,logout:l,notificationCount:r,fetchUnreadCount:p,setShowMessage:m,showMessage:x}),(0,v.jsx)(U,{isOpen:c,onClose:()=>l(!1),onLogout:()=>{g(null),I.Z.remove("Admin"),l(!1),j("/adminlogin")}}),x?(0,v.jsx)(q,{setShowMessage:m,fetchUnreadCount:p}):"",(0,v.jsx)(F.j3,{})]})]})]})})}},1607:(e,t,s)=>{s.d(t,{TV:()=>r,kc:()=>i,yU:()=>o});var n=s(2791),a=s(7107);const r=e=>({..."dark"===e?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#141b2d",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#70d8bd",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#ffffff",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#70d8bd",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}}}),i=(0,n.createContext)({toggleColorMode:()=>{}}),o=()=>{const[e,t]=(0,n.useState)("dark"),s=(0,n.useMemo)((()=>({toggleColorMode:()=>t((e=>"light"===e?"dark":"light"))})),[]);return[(0,n.useMemo)((()=>(0,a.Z)((e=>{const t=r(e);return{palette:{mode:e,..."dark"===e?{primary:{main:t.primary[500]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:t.primary[500]}}:{primary:{main:t.primary[100]},secondary:{main:t.greenAccent[500]},neutral:{dark:t.grey[700],main:t.grey[500],light:t.grey[100]},background:{default:"#fcfcfc"}}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:12,h1:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:40},h2:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:32},h3:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24},h4:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:20},h5:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:16},h6:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:14}}}})(e))),[e]),s]}}}]);
//# sourceMappingURL=9757.3fd100b0.chunk.js.map